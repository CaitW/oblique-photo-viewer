<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/js/layers/layerStyles.js | oblique-photo-viewer</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Oblique Photo Viewer"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="oblique-photo-viewer"><meta property="twitter:description" content="Oblique Photo Viewer"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/CaitW/oblique-photo-viewer.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js">js</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getPhotoURLs">getPhotoURLs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getProfileURLs">getProfileURLs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getActiveBasemapId">getActiveBasemapId</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getActiveLayerStyleTypes">getActiveLayerStyleTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getActiveLayers">getActiveLayers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getBasemapsByIdWithData">getBasemapsByIdWithData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getLayerGroupsByIdWithData">getLayerGroupsByIdWithData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getLayersByIdWithData">getLayersByIdWithData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getMobileFeaturePopupProps">getMobileFeaturePopupProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-mapLayerGroupsToLayers">mapLayerGroupsToLayers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-store">store</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BASEMAPS_BY_ID">BASEMAPS_BY_ID</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LAYERS_BY_ID">LAYERS_BY_ID</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LAYER_GROUPS_BY_ID">LAYER_GROUPS_BY_ID</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-classes">js/classes</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/js/classes/ObliquePhotoMap.js~ObliquePhotoMap.html">ObliquePhotoMap</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-components">js/components</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AboutButton">AboutButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Basemap">Basemap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BasemapList">BasemapList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Layer">Layer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-LayerGroup">LayerGroup</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-LegendLayer">LegendLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-LegendStyle">LegendStyle</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-MobileToggle">MobileToggle</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ResetView">ResetView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ZoomToShoreline">ZoomToShoreline</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-components-featurepopups">js/components/FeaturePopups</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/js/components/FeaturePopups/FeaturePopup.jsx~FeaturePopup.html">FeaturePopup</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/js/components/FeaturePopups/PinnedFeaturePopup.jsx~PinnedFeaturePopup.html">PinnedFeaturePopup</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-components-featurepopups-components">js/components/FeaturePopups/components</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/js/components/FeaturePopups/components/PopupTabs.jsx~PopupTabs.html">PopupTabs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-PopupFooter">PopupFooter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-PopupTitle">PopupTitle</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-components-featurepopups-components-tabs">js/components/FeaturePopups/components/tabs</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/js/components/FeaturePopups/components/tabs/DataTab.jsx~DataTab.html">DataTab</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/js/components/FeaturePopups/components/tabs/ProfileTab.jsx~ProfileTab.html">ProfileTab</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/js/components/FeaturePopups/components/tabs/RecessionTab.jsx~RecessionTab.html">RecessionTab</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ImageTab">ImageTab</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-containers">js/containers</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/js/containers/Sidebar.jsx~Sidebar.html">Sidebar</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-ducks">js/ducks</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-basemapError">basemapError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-basemapLoaded">basemapLoaded</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-basemapPreload">basemapPreload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-basemaps">basemaps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleBasemap">toggleBasemap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-layerError">layerError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-layerLoaded">layerLoaded</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-layerPreload">layerPreload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-layers">layers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-legendStyleUpdate">legendStyleUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleLayer">toggleLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-doneZooming">doneZooming</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-leafletPopupOpened">leafletPopupOpened</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-map">map</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mapMousedown">mapMousedown</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mapNewZoomLevel">mapNewZoomLevel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-resetMapView">resetMapView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-zoomToShoreline">zoomToShoreline</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-closeMobileFeatureModal">closeMobileFeatureModal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-closeMobileLayerList">closeMobileLayerList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mobile">mobile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mobileClickFeature">mobileClickFeature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openMobileLayerList">openMobileLayerList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateWindowDimensions">updateWindowDimensions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-nav">nav</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setNavExpand">setNavExpand</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-closePinnedFeature">closePinnedFeature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-newPinnedFeature">newPinnedFeature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-pinnedFeatures">pinnedFeatures</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-layers">js/layers</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getFeatureLayer">getFeatureLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-onEachFeature">onEachFeature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-LAYER_STYLE">LAYER_STYLE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FORTY_TO_SIXTY">FORTY_TO_SIXTY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-GREATER_THAN_SIXTY">GREATER_THAN_SIXTY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-GREATER_THAN_TWENTY">GREATER_THAN_TWENTY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-NO_RECESSION">NO_RECESSION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TEN_TO_TWENTY">TEN_TO_TWENTY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TWENTY_TO_FORTY">TWENTY_TO_FORTY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ZERO_TO_TEN">ZERO_TO_TEN</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ZERO_TO_TWENTY">ZERO_TO_TWENTY</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-lib">js/lib</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AddMousePosition">AddMousePosition</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#js-wrappers">js/wrappers</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-MapWrapper">MapWrapper</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/js/layers/layerStyles.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * layerStyles.js
 * This contains style functions that are applied to each geojson layer when they are loaded.
 * Additionally, this file caches the styles applied by each layer, so that when
 * the user activates them in the map, we save memory and we can keep track of all possible styles
 * for use in the legend
 */
import store from &quot;../store&quot;
import { legendStyleUpdate } from &quot;../ducks/layers&quot;
import { LAYERS_BY_ID } from &quot;../util&quot;

/**
 * String values for recession rates
 */
export const NO_RECESSION = &quot;No recession&quot;
// short term rates
export const ZERO_TO_TEN = &quot;0 to 10 feet&quot;
export const TEN_TO_TWENTY = &quot;0 to 20 feet&quot;
export const GREATER_THAN_TWENTY = &quot;Greater than 20 feet&quot;
// long term rates
export const ZERO_TO_TWENTY = &quot;0 to 20 feet&quot;
export const TWENTY_TO_FORTY = &quot;20 to 40 feet&quot;
export const FORTY_TO_SIXTY = &quot;40 to 60 feet&quot;
export const GREATER_THAN_SIXTY = &quot;Greater than 60 feet&quot;

/**
 * Colors used in the app
 */
const COLORS = {
  RED: &quot;#F44336&quot;,
  GREEN: &quot;#8BC34A&quot;,
  YELLOW: &quot;#FFEB3B&quot;,
  GRAY: &quot;#9E9E9E&quot;,
  BLACK: &quot;#000000&quot;
}

COLORS.BEACH = [
  &quot;#E0E0E0&quot;,
  &quot;#a6cee3&quot;,
  &quot;#1f78b4&quot;,
  &quot;#b2df8a&quot;,
  &quot;#33a02c&quot;,
  &quot;#fb9a99&quot;,
  &quot;#e31a1c&quot;,
  &quot;#fdbf6f&quot;,
  &quot;#ff7f00&quot;,
  &quot;#cab2d6&quot;,
  &quot;#6a3d9a&quot;,
  &quot;#ffff99&quot;
]

COLORS.PHOTOS = [
  &quot;#9575CD&quot;,
  &quot;#7E57C2&quot;,
  &quot;#673AB7&quot;,
  &quot;#512DA8&quot;,
  &quot;#311B92&quot;,
  &quot;#21106d&quot;
]

COLORS.STRUCTURES = [&quot;#6D4C41&quot;, &quot;#3E2723&quot;]

COLORS.PROFILES = {
  bathy: &quot;#00838F&quot;,
  bluff: &quot;#4E342E&quot;
}

COLORS.SHORT_TERM_RATES = {
  [NO_RECESSION]: &quot;#FFFFFF&quot;,
  [ZERO_TO_TEN]: &quot;#CCCCFF&quot;,
  [TEN_TO_TWENTY]: &quot;#7960F2&quot;,
  [GREATER_THAN_TWENTY]: &quot;#0000E0&quot;
}

COLORS.LONG_TERM_RATES = {
  [NO_RECESSION]: &quot;#FFFFFF&quot;,
  [ZERO_TO_TWENTY]: &quot;#FFE0E0&quot;,
  [TWENTY_TO_FORTY]: &quot;#DB877A&quot;,
  [FORTY_TO_SIXTY]: &quot;#BF5542&quot;,
  [GREATER_THAN_SIXTY]: &quot;#8E0909&quot;
}

// Default styles, if no style is specified for a particular layer
const DEFAULT_STYLES = {
  LineString: {
    weight: 4,
    opacity: 0.9,
    lineCap: &quot;round&quot;,
    lineJoin: &quot;round&quot;,
    color: COLORS.BLACK
  },
  Point: {
    radius: 1,
    color: COLORS.BLACK,
    strokeColor: COLORS.BLACK,
    weight: 0,
    opacity: 0.8,
    fillOpacity: 0
  },
  MultiLineString: {
    weight: 4,
    opacity: 0.9,
    lineCap: &quot;round&quot;,
    lineJoin: &quot;round&quot;,
    color: COLORS.BLACK
  }
}

const SPECIAL_STYLES = {
  Square: {
    color: COLORS.BLACK,
    strokeColor: COLORS.BLACK,
    weight: 0,
    opacity: 1,
    fillOpacity: 1,
    lineCap: &quot;square&quot;,
    lineJoin: &quot;miter&quot;
  },
  Triangle: {
    color: COLORS.BLACK,
    strokeColor: COLORS.BLACK,
    weight: 0,
    opacity: 1,
    fillOpacity: 1,
    lineCap: &quot;square&quot;,
    lineJoin: &quot;miter&quot;
  }
}

/**
 * Individual layer styles are added below, as referenced by ID in config.json
 *
 * @param {string} subStyleName - if a style has different sub-styles for a particular feature type
 *  this parameter specifies the name of that sub-style, and the function below returns a style
 *  based on that information
 * @returns {object} - style per Leaflet&apos;s GeoJSON style spec
 *
 * - the keys of each function in LAYER_STYLES_BY_ID correspond to layers in config.json
 */
const LAYER_STYLES_BY_ID = {
  backshore_1976(subStyleName) {
    const style = {
      ...DEFAULT_STYLES.LineString
    }
    switch (subStyleName) {
      case &quot;Moderately Stable&quot;:
        style.color = COLORS.GREEN
        break
      case &quot;Moderately Unstable&quot;:
        style.color = COLORS.YELLOW
        break
      case &quot;No Bluff&quot;:
        style.color = COLORS.GRAY
        break
      case &quot;Unstable / Failing&quot;:
        style.color = COLORS.RED
        break
      default:
        style.color = COLORS.BLACK
        break
    }
    return style
  },
  backshore_2007(subStyleName) {
    const style = {
      ...DEFAULT_STYLES.LineString
    }
    switch (subStyleName) {
      case &quot;Moderately Stable&quot;:
        style.color = COLORS.GREEN
        break
      case &quot;Moderately Unstable&quot;:
        style.color = COLORS.YELLOW
        break
      case &quot;No Bluff&quot;:
        style.color = COLORS.GRAY
        break
      case &quot;Unstable / Failing&quot;:
        style.color = COLORS.RED
        break
      default:
        style.color = COLORS.BLACK
        break
    }
    return style
  },
  photos_1976() {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.PHOTOS[0],
      strokeColor: COLORS.PHOTOS[0]
    }
  },
  photos_2007() {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.PHOTOS[1],
      strokeColor: COLORS.PHOTOS[1]
    }
  },
  structure_1976() {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.STRUCTURES[0],
      fillColor: COLORS.STRUCTURES[0],
      opacity: 1
    }
  },
  structure_2007() {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.STRUCTURES[1],
      fillColor: COLORS.STRUCTURES[1],
      opacity: 1
    }
  },
  beachclass_1976(subStyleName) {
    const style = {
      ...DEFAULT_STYLES.LineString
    }
    switch (subStyleName) {
      case &quot;None&quot;:
        style.color = COLORS.BEACH[0]
        break
      case &quot;Revetment&quot;:
        style.color = COLORS.BEACH[1]
        break
      case &quot;Poorly Organized Rip-Rap / Rubble&quot;:
        style.color = COLORS.BEACH[2]
        break
      case &quot;Seawall / Bulkhead&quot;:
        style.color = COLORS.BEACH[3]
        break
      case &quot;Groin / Jetty / Offshore Breakwater&quot;:
        style.color = COLORS.BEACH[4]
        break
      case &quot;Small Boat Dock&quot;:
        style.color = COLORS.BEACH[5]
        break
      case &quot;Public Marina&quot;:
        style.color = COLORS.BEACH[6]
        break
      case &quot;Commercial / Industrial Dock&quot;:
        style.color = COLORS.BEACH[7]
        break
      case &quot;Personal Marina&quot;:
        style.color = COLORS.BEACH[8]
        break
      case &quot;Offshore Breakwater&quot;:
        style.color = COLORS.BEACH[9]
        break
      default:
        style.opacity = 0
        break
    }
    return style
  },
  beachclass_2007(subStyleName) {
    const style = {
      ...DEFAULT_STYLES.LineString
    }
    switch (subStyleName) {
      case &quot;None&quot;:
        style.color = COLORS.BEACH[0]
        break
      case &quot;Revetment&quot;:
        style.color = COLORS.BEACH[1]
        break
      case &quot;Poorly Organized Rip-Rap / Rubble&quot;:
        style.color = COLORS.BEACH[2]
        break
      case &quot;Seawall / Bulkhead&quot;:
        style.color = COLORS.BEACH[3]
        break
      case &quot;Groin / Jetty / Offshore Breakwater&quot;:
        style.color = COLORS.BEACH[4]
        break
      case &quot;Small Boat Dock&quot;:
        style.color = COLORS.BEACH[5]
        break
      case &quot;Public Marina&quot;:
        style.color = COLORS.BEACH[6]
        break
      case &quot;Commercial / Industrial Dock&quot;:
        style.color = COLORS.BEACH[7]
        break
      case &quot;Personal Marina&quot;:
        style.color = COLORS.BEACH[8]
        break
      case &quot;Offshore Breakwater&quot;:
        style.color = COLORS.BEACH[9]
        break
      default:
        style.opacity = 0
        break
    }
    return style
  },
  profiles(subStyleName) {
    const style = {
      ...DEFAULT_STYLES.LineString,
      color: COLORS.PROFILES.bluff
    }
    switch (subStyleName) {
      case &quot;Bathymetric Profile&quot;:
        style.color = COLORS.PROFILES.bathy
        break
      default:
        break
    }
    return style
  },
  photos_2016() {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.PHOTOS[3],
      strokeColor: COLORS.PHOTOS[3]
    }
  },
  photos_2017() {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.PHOTOS[4],
      strokeColor: COLORS.PHOTOS[4]
    }
  },
  photos_2018() {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.PHOTOS[5],
      strokeColor: COLORS.PHOTOS[5]
    }
  },
  photos_2012() {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.PHOTOS[2],
      strokeColor: COLORS.PHOTOS[2]
    }
  },
  // square, blue
  bluff_toe_rec_short(subStyleName) {
    return {
      ...SPECIAL_STYLES.Square,
      color: COLORS.SHORT_TERM_RATES[subStyleName],
      strokeColor: COLORS.SHORT_TERM_RATES[subStyleName]
    }
  },
  // circle, blue
  bluff_crest_rec_short(subStyleName) {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.SHORT_TERM_RATES[subStyleName],
      strokeColor: COLORS.SHORT_TERM_RATES[subStyleName]
    }
  },
  // triangle, blue
  shoreline_rec_short(subStyleName) {
    return {
      ...SPECIAL_STYLES.Triangle,
      color: COLORS.SHORT_TERM_RATES[subStyleName],
      strokeColor: COLORS.SHORT_TERM_RATES[subStyleName]
    }
  },
  // square, red
  bluff_toe_rec_long(subStyleName) {
    return {
      ...SPECIAL_STYLES.Square,
      color: COLORS.LONG_TERM_RATES[subStyleName],
      strokeColor: COLORS.LONG_TERM_RATES[subStyleName]
    }
  },
  // circle, red
  bluff_crest_rec_long(subStyleName) {
    return {
      ...DEFAULT_STYLES.Point,
      color: COLORS.LONG_TERM_RATES[subStyleName],
      strokeColor: COLORS.LONG_TERM_RATES[subStyleName]
    }
  },
  // triangle, red
  shoreline_rec_long(subStyleName) {
    return {
      ...SPECIAL_STYLES.Triangle,
      color: COLORS.LONG_TERM_RATES[subStyleName],
      strokeColor: COLORS.LONG_TERM_RATES[subStyleName]
    }
  },
  // orange
  shoreline_position() {
    return {
      ...DEFAULT_STYLES.LineString
    }
  }
}

// No recession (distance &lt;= 0)
// 0 to 10 feet (0 &lt; distance &lt;= 10)
// 10 to 20 feet (10 &lt; distance &lt;= 20)
// Greater than 20 feet (20 &lt; distance)
const getShortTermClassification = distance =&gt; {
  if (distance &gt; 20) {
    return GREATER_THAN_TWENTY
  } else if (distance &gt; 10) {
    return TEN_TO_TWENTY
  } else if (distance &gt; 0) {
    return ZERO_TO_TEN
  }
  return NO_RECESSION
}

// No recession (distance &lt;= 0)
// 0 to 20 feet (0 &lt; distance &lt;= 20)
// 20 to 40 feet (20 &lt; distance &lt;= 40)
// 40 to 60 feet (40 &lt; distance &lt;= 60)
// Greater than 60 feet (40 &lt; distance)
const getLongTermClassification = distance =&gt; {
  if (distance &gt; 60) {
    return GREATER_THAN_SIXTY
  } else if (distance &gt; 40) {
    return FORTY_TO_SIXTY
  } else if (distance &gt; 20) {
    return TWENTY_TO_FORTY
  } else if (distance &gt; 0) {
    return ZERO_TO_TWENTY
  }
  return NO_RECESSION
}

/**
 * If a layer should have different styles for features based on a particular feature property
 * i.e. For all features in the Profiles layer:
 *  - feature.type = &quot;bluff&quot; - should be colored red
 *  - feature.type = &quot;bathy&quot; - should be colored blue
 * Return the value of the property that determines the differing style
 * Alternatively, if a layer&apos;s style should be the same for all features, just return
 * a string to serve as the label in the legend
 *
 * @param {string} layerId - unique layer identifier
 * @param {GeoJSON Feature} feature - a GeoJSON feature
 */
function getLayerSubStyleName(layerId, feature) {
  let subStyleName = layerId
  switch (layerId) {
    case &quot;backshore_1976&quot;:
      subStyleName = feature.properties[&quot;Bluff Condition Classification&quot;]
      break
    case &quot;backshore_2007&quot;:
      subStyleName = feature.properties[&quot;Bluff Condition Classification&quot;]
      break
    case &quot;photos_1976&quot;:
      subStyleName = &quot;1976 Photos&quot;
      break
    case &quot;photos_2007&quot;:
      subStyleName = &quot;2007 Photos&quot;
      break
    case &quot;structure_1976&quot;:
      subStyleName = &quot;Structures&quot;
      break
    case &quot;structure_2007&quot;:
      subStyleName = &quot;Structures&quot;
      break
    case &quot;beachclass_1976&quot;:
      subStyleName = feature.properties[&quot;Shore Protection Classification&quot;]
      break
    case &quot;beachclass_2007&quot;:
      subStyleName = feature.properties[&quot;Shore Protection Classification&quot;]
      break
    case &quot;profiles&quot;:
      if (feature.properties.bathy_xls !== false) {
        subStyleName = &quot;Bathymetric Profile&quot;
      } else {
        subStyleName = &quot;Bluff Profile&quot;
      }
      break
    case &quot;photos_obl_2016&quot;:
      subStyleName = &quot;2016 Photos&quot;
      break
    case &quot;photos_dm_2016&quot;:
      subStyleName = &quot;2016 Photos&quot;
      break
    case &quot;photos_2017&quot;:
      subStyleName = &quot;2017 Photos&quot;
      break
    case &quot;photos_2012&quot;:
      subStyleName = &quot;2012 Photos&quot;
      break
    case &quot;bluff_toe_rec_long&quot;:
      subStyleName = getLongTermClassification(feature.properties.Yr_59_Dist)
      break
    case &quot;bluff_crest_rec_long&quot;:
      subStyleName = getLongTermClassification(feature.properties.Yr_59_Dist)
      break
    case &quot;shoreline_rec_long&quot;:
      subStyleName = getLongTermClassification(feature.properties.Yr_59_Dist)
      break
    case &quot;bluff_toe_rec_short&quot;:
      subStyleName = getShortTermClassification(feature.properties.Yr_20_Dist)
      break
    case &quot;bluff_crest_rec_short&quot;:
      subStyleName = getShortTermClassification(feature.properties.Yr_20_Dist)
      break
    case &quot;shoreline_rec_short&quot;:
      subStyleName = getShortTermClassification(feature.properties.Yr_20_Dist)
      break
    case &quot;shoreline_position &quot;:
      subStyleName = &quot;Shoreline Position&quot;
      break
    default:
      break
  }
  return subStyleName
}

/**
 * Cache every unique style so that it can be reused for features sharing the same style
 */
const CACHE = {}

/**
 * Return a cached style if it exists
 *
 * @param {string} layerId - unique layer identifier
 * @param {GeoJSON Feature} feature - a GeoJSON feature
 * @returns {Object|false} - returns style object if cache exists, false if it doesn&apos;t
 */
function getCachedStyle(layerId, feature) {
  if (typeof CACHE[layerId] !== &quot;undefined&quot;) {
    const subStyleName = getLayerSubStyleName(layerId, feature)
    if (typeof CACHE[layerId][subStyleName] !== &quot;undefined&quot;) {
      return CACHE[layerId][subStyleName]
    }
  }
  return false
}

/**
 * Called when a particular style / sub-style doesn&apos;t have an associated cache
 * A new style object is created, and cached for future use
 *
 * @param {string} layerId - unique layer identifier
 * @param {GeoJSON Feature} feature - a GeoJSON feature
 * @return {object} - style
 */
function createNewStyle(layerId, feature) {
  let style = null
  const layer = LAYERS_BY_ID[layerId]
  // Get either the singular name for the layer&apos;s style or the name of the sub-style for this feature
  const subStyleName = getLayerSubStyleName(layerId, feature)
  // If there&apos;s a style set for a particular Layer ID, fetch that style
  // Otherwise, get the default style for that geometry type
  if (typeof LAYER_STYLES_BY_ID[layerId] !== &quot;undefined&quot;) {
    style = LAYER_STYLES_BY_ID[layerId](subStyleName)
  } else if (typeof DEFAULT_STYLES[feature.geometry.type] !== &quot;undefined&quot;) {
    style = DEFAULT_STYLES[feature.geometry.type]
  }
  // assign the classname property of every style
  const layerIdClass = &quot;layer-&quot; + layerId
  const layerGeometryClass = &quot;layer-geometry-&quot; + feature.geometry.type
  const displayType = layer.displayType
    ? layer.displayType
    : feature.geometry.type.toLowerCase()
  const layerDisplayTypeClass = &quot;layer-display-type-&quot; + displayType
  if (typeof style.className === &quot;undefined&quot;) {
    style.className = &quot;&quot;
  }
  style.className +=
    &quot; &quot; + [layerGeometryClass, layerIdClass, layerDisplayTypeClass].join(&quot; &quot;)
  // add the style to the legend
  store.dispatch(
    legendStyleUpdate(
      layerId,
      subStyleName,
      style,
      feature.geometry.type,
      displayType
    )
  )
  // add style to cache
  CACHE[layerId] = CACHE[layerId] || {}
  CACHE[layerId][subStyleName] = style
  return style
}

/**
 * Imported by ObliquePhotoMap. When passed a layerId, this function returns a function,
 * bound to the LayerId, to get all a style for each feature in a particular layer
 *
 * @param {string} layerId - a unique layer id
 * @returns {function} - a function that gets a unique style based on the feature that&apos;s passed to it
 */
export default function LAYER_STYLE(layerId) {
  return function layerStyle(feature) {
    return getCachedStyle(layerId, feature) || createNewStyle(layerId, feature)
  }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
